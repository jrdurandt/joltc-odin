version: 0
platforms:
  - Linux x86_64
  - Windows x86_64
  - Macos x86_64
from:
  language: c
  headers: zig-out/include/joltc.h
  shared.linux: ./libjoltc.so
  shared.windows: ./joltc.dll
  shared.macos.x86_64: ./libjoltc.dylib
  ignore:
    constants:
      - JOLT_C_H_
      - _JPH_EXTERN
      - JPH_CAPI
  overwrite:
    types:
      JPH_Vec3: "#Float32 #Attr Arr 3 #AttrEnd"
      JPH_Vec4: "#Float32 #Attr Arr 4 #AttrEnd"
      JPH_Quat: "#Extern quaternion128"
      JPH_Matrix4x4: "#Float32 #Attr Arr 4 Arr 4 #AttrEnd"
    constants:
      JPH_MAX_PHYSICS_JOBS: "2048 #Untyped"
      JPH_MAX_PHYSICS_BARRIERS: "2048 #Untyped"
to:
  language: odin
  package: jolt
  out: jolt/jolt.odin
  trim_prefix:
    functions: JPH_
    types: JPH_
    constants: JPH_
  no_build_tag: yes
  use_when_else: no
